@startuml
title Arquitectura - Agregador con Fuentes y Cron Job

skinparam componentStyle rectangle

' ==== Estilos personalizados ====
skinparam component {
    BackgroundColor<<API>> #DDA0DD
    BorderColor<<API>> #9932CC
    BackgroundColor<<model>> #E0E0E0
    BorderColor<<model>> #A0A0A0
    BackgroundColor<<cron>> #D6EAF8
    BorderColor<<cron>> #5DADE2
    FontColor<<cron>> #154360
}

skinparam cloud {
    BackgroundColor<<externo>> #FFF9C4
    BorderColor<<externo>> #FBC02D
    FontColor<<externo>> #795548
}

' ==== Aplicación Principal ====
component "Aplicación Principal" {
    [MainApp]
}

' ==== Agregador ====
component "Agregador" {
    [ ] <<model>> as AgregadorModel
    component " " <<API>> as AgregadorAPI
    MainApp --> AgregadorAPI
    AgregadorAPI --> AgregadorModel
}

' ==== Cron Job con estilo ====
component "⏰ Cron Job" <<cron>> as CronJob
CronJob --> AgregadorModel : ejecuta periódicamente

' ==== Fuente Estática ====
component "Fuente Estática" {
    [ ] <<model>> as EstaticaModel
    component " " <<API>> as EstaticaAPI
    artifact "Dataset" as EstaticaDataset
    AgregadorModel --> EstaticaAPI
    EstaticaAPI --> EstaticaModel
    EstaticaModel --> EstaticaDataset : lee datos
}

' ==== Fuente Dinámica ====
component "Fuente Dinámica" {
    [ ] <<model>> as DinamicaModel
    component " " <<API>> as DinamicaAPI
    AgregadorModel --> DinamicaAPI
    DinamicaAPI --> DinamicaModel
}

' ==== Fuente Proxy ====
component "Fuente Proxy" {
    [ ] <<model>> as ProxyModel
    component " " <<API>> as ProxyAPI
    AgregadorModel --> ProxyAPI
    ProxyAPI --> ProxyModel
}

' ==== Servicio Externo (Nube Amarilla) ====
cloud "API DDS" <<externo>> as ServicioExterno
ProxyModel --> ServicioExterno : obtiene datos

@enduml








